

## 一、PCA压缩

用两种PCA方法对人脸图像进行压缩，分别给出压缩比为50%，60%，70%，80%，90%，95%时，SNR是多少。更进一步，对两种PCA的求法进行比较分析

### 1. 基本原理

### 2. 仿真方法

#### 2.1 压缩比和PCA主元数

压缩比又称为压缩率，PCA压缩的计算方法如下：

记主元个数为$m$，主元长度为$l$，样本个数为$n$，则，压缩比$P$为：
$$
P=\frac{l\times m+m\times n}{n \times l}
$$
也有将压缩比记为被压缩数据量与原数据量的比值，即为$1-P$， 在这里，我采用上面的说法，出于完整性考虑，在列表时也会列出10%-90%的PSNR值，但出于篇幅考虑，仅放少部分图片。

所以主元数与其他参数的关系为：
$$
m = \frac{n\times l \times P}{n+l}
$$
在本例中，所有图像为：$92 \times 112$pixel大小，所以可以取每个主元长度为10304。按人进行压缩时，则每次有10个样本，则（无法达到95%压缩率，所以不列出）：

| 压缩率  | 主元个数m | 实际压缩率  |
| ---- | ----- | ------ |
| 10%  | 1     | 10.01% |
| 20%  | 2     | 20.02% |
| 30%  | 3     | 30.03% |
| 40%  | 4     | 40.04% |
| 50%  | 5     | 50.05% |
| 60%  | 6     | 60.06% |
| 70%  | 7     | 70.07% |
| 80%  | 8     | 80.08% |
| 90%  | 9     | 90.09% |

当以每行像素为样本时，则主元长度为92，按人进行压缩，则每次有1120个样本，则：
| 压缩比  | 主元个数m | 实际压缩率  |
| ---- | ----- | ------ |
| 5%   | 4     | 4.47%  |
| 10%  | 9     | 10.59% |
| 20%  | 17    | 20.00% |
| 30%  | 26    | 30.58% |
| 40%  | 34    | 39.99% |
| 50%  | 43    | 50.58% |
| 60%  | 51    | 59.99% |
| 70%  | 60    | 70.57% |
| 80%  | 68    | 80.00% |
| 90%  | 77    | 90.57% |
| 95%  | 81    | 95.28% |

以每列为样本时，主元长为112，按人进行压缩，则每次有920个样本，则：
| 压缩比  | 主元个数m | 实际压缩率  |
| ---- | ----- | ------ |
| 5%   | 5     | 5.02% |
| 10%  | 10    | 10.04% |
| 20%  | 20    | 20.08% |
| 30%  | 30    | 30.12% |
| 40%  | 90    | 40.16% |
| 50%  | 50    | 50.08% |
| 60%  | 60    | 60.09% |
| 70%  | 70    | 70.11% |
| 80%  | 80    | 80.12% |
| 90%  | 90    | 90.14% |
| 95%  | 95    | 95.15% |
以每幅图的同一个像素作为样本，主元长为10，每次有10304个样本，则：
| 压缩比  | 主元个数m | 实际压缩率  |
| ---- | ----- | ------ |
| 10%  | 1     | 10.01% |
| 20%  | 2     | 20.02% |
| 30%  | 3     | 30.03% |
| 40%  | 4     | 40.04% |
| 50%  | 5     | 50.05% |
| 60%  | 6     | 60.06% |
| 70%  | 7     | 70.07% |
| 80%  | 8     | 80.08% |
| 90%  | 9     | 90.09% |

### 3. 压缩结果

以下结果均以s1作为样本进行PSNR的分析：

#### 3.1 COVPCA

1. 按图像作为样本进行压缩：
  | 压缩比  | PSNR（db） |
  | ---- | -------- |
  | 50%  | 27.38    |
  | 60%  | 27.41    |
  | 70%  | 27.41    |
  | 80%  | 27.41    |
  | 90%  | 27.54    |
  测试结果：（为了节约篇幅，只放出50%，70%，90%的效果，左侧是原图，右图是压缩后的图片）

  50%：

  ![s1covpca对比SNR50](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1covpca对比SNR50.png)

  70%：

  ![s1covpca对比SNR70](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1covpca对比SNR70.png)

  90%：

  ![s1covpca对比SNR90](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1covpca对比SNR90.png)


2. 按列作为样本进行压缩：

   | 压缩比  | PSNR（db） |
   | ---- | -------- |
   | 50%  | 41.79    |
   | 60%  | 43.69    |
   | 70%  | 45.74    |
   | 80%  | 48.06    |
   | 90%  | 50.87    |
   | 95%  | 52.56    |
   50%：

   ![s1covpcablock对比SNR50](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1covpcablock对比SNR50.png)

   70%：

   ![s1covpcablock对比SNR70](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1covpcablock对比SNR70.png)

   90%：

   ![s1covpcablock对比SNR90](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1covpcablock对比SNR90.png)

3. 按像素作为样本进行压缩：
  | 压缩比  | PSNR（db） |
  | ---- | -------- |
  | 50%  | 32.00    |
  | 60%  | 33.15    |
  | 70%  | 34.76    |
  | 80%  | 37.65    |
  | 90%  | Inf      |
  50%：

  ![s1covpcapix对比SNR50](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1covpcapix对比SNR50.png)

  70%：

  ![s1covpcapix对比SNR70](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1covpcapix对比SNR70.png)

  90%：

  ![s1covpcapix对比SNR90](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1covpcapix对比SNR90.png)


#### 3.2 CCIPCA

1. 按图像作为样本进行压缩：

   | 压缩比  | PSNR（db） |
   | ---- | -------- |
   | 50%  | 30.66    |
   | 60%  | 30.98    |
   | 70%  | 32.07    |
   | 80%  | 33.07    |
   | 90%  | 34.79    |
   50%：

   ![s1ccipca对比SNR50](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1ccipca对比SNR50.png)

   70%：

   ![s1ccipca对比SNR70](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1ccipca对比SNR70.png)

   90%：

   ![s1ccipca对比SNR90](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1ccipca对比SNR90.png)

2. 按列作为样本进行压缩：

   | 压缩比  | PSNR（db） |
   | ---- | -------- |
   | 50%  | 37.39    |
   | 60%  | 38.69    |
   | 70%  | 40.10    |
   | 80%  | 42.06    |
   | 90%  | 44.14    |
   | 95%  | 45.49    |
   50%：

   ![s1ccipcablock对比SNR50](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1ccipcablock对比SNR50.png)

   70%：

   ![s1ccipcablock对比SNR70](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1ccipcablock对比SNR70.png)

   90%：

   ![s1ccipcablock对比SNR90](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1ccipcablock对比SNR90.png)

3. 按像素作为样本进行压缩：
  | 压缩比  | PSNR（db） |
  | ---- | -------- |
  | 50%  | 74.11    |
  | 60%  | 75.19    |
  | 70%  | 77.60    |
  | 80%  | 80.73    |
  | 90%  | 364.16   |
  50%：

  ![s1ccipcapix对比SNR50](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1ccipcapix对比SNR50.png)

  70%：

  ![s1ccipcapix对比SNR70](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1ccipcapix对比SNR70.png)

  90%：

  ![s1ccipcapix对比SNR90](E:\17年学习\神经网络\神经网络作业二\NN_second_homework\PCA\s1ccipcapix对比SNR90.png)

###4. 总结

